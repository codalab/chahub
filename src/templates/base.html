{% load static %}
{% load admin_urls %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <title>Chahub Beta</title>
    <meta property="og:title" content="Chahub"/>
    <meta property="og:description"
          content="Chahub is a resource aggregator for machine learning researchers and students. We track many machine learning competitions, datasets, and competitors."/>
    <meta property="og:image"
          content="https://{{ request.get_host }}{% static 'img/chahub_logo_with_background.png' %}"/>

    <link rel="icon" type="image/ico" href="{% static 'img/favicon.ico' %}"/>

    <!-- Lodash -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.min.js"
            integrity="sha256-7/yoZS3548fXSRXqc/xYzjsmuW3sFKzuvOCHd06Pmps=" crossorigin="anonymous"></script>
    <!-- JQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Riot -->
    {#    <script src="https://cdnjs.cloudflare.com/ajax/libs/riot/3.11.2/riot+compiler.min.js"></script>#}
    <!-- Semantic -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <!-- Markdown Editor -->
    <script src="https://unpkg.com/easymde/dist/easymde.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/easymde/dist/easymde.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.6.1/marked.min.js"></script>


    <!-- Datepicker -->
    <link rel="stylesheet" href="{% static "css/calendar.min.css" %}">
    <script src="{% static "js/calendar.min.js" %}"></script>
    <script src="{% static "js/luxon.js" %}"></script>

    <script src="{% static "js/riot.js" %}"></script>
    <script src="{% static "js/riot-route.js" %}"></script>
    <script src="{% static "js/jquery.form.serializer.js" %}"></script>

    <!-- Riot tags -->
    <script src="{% static "generated/riot.js" %}"></script>
    <!-- Our JS -->
    <script src="{% static "js/ours/utils.js" %}"></script>
    <script src="{% static "js/ours/client.js" %}"></script>
    <script src="{% static "js/ours/init.js" %}"></script>
    <script src="{% static "js/ours/router.js" %}"></script>


    <!-- Compiled stylus -->
    <link rel="stylesheet" href="{% static "generated/output.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/profile.css' %}">

    <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <script src="{% static "js/reconnecting-websocket.min.js" %}"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400" rel="stylesheet">



    {% block extra_head %}
    {% endblock %}

    <style>
        body {
            background: rgb(255, 255, 255) !important;
        }

        body.pushable > .pusher {
            background: rgb(255, 255, 255) !important;
        }

        .footer.pusher {
            min-height: 0 !important;
            z-index: unset;
            background: rgb(255, 255, 255) !important;
        }

        #chafooter {
            padding: 10px;
            background: rgb(255, 255, 255) !important;
        }

        body.pushable > #chafooter {
            background: rgb(255, 255, 255) !important;
        }

        body.pushable {
            background: rgb(255, 255, 255) !important;
        }

        .ui.uncover.sidebar {
            z-index: 3 !important;
        }
    </style>
</head>
<body>

{% block content %}

{% endblock %}

<div class="footer pusher">
    <div id="chafooter" class="ui horizontal divided tiny list">
        <div class="item">
            <div class="content">
                <i>Chahub is a service of <a href="http://codalab.org/">Codalab</a></i>
            </div>
        </div>
        <div class="item">
            <div class="content">
                <a href="https://github.com/codalab/codalab/issues" target="_blank">Join us on Github</a>
            </div>
        </div>
        <div class="item">
            <div class="content">
                <a href="{% url 'api:docs' 'v1' %}" target="_blank">API</a>
            </div>
        </div>
        <div class="item">
            <div class="content">
                <a href="https://github.com/codalab/codalab/wiki/Project_About_CodaLab">About</a>
            </div>
        </div>
        <div class="item">
            <div class="content">
                <a href="https://github.com/codalab/codalab/wiki/Privacy" target="_blank">Privacy and Terms</a>
            </div>
        </div>
    </div>
</div>

<script>
    // Load in URLs or other django generated goodies
    URLS = {
        assets: {
            header_particles: "{% static "particles/header.json" %}"
        },
        API: "/api/v1/",
        ADMIN: "{% url 'admin:index' %}",
        STATIC: function (asset_url) {
            return "{{ STATIC_URL }}" + asset_url
        }
    }

    //Using Generic SITE here instead of Chahub because we already declare the variable CHAHUB in client.js
    SITE = {
        state: {
            user: {
                username: "{{ user.username }}",
                is_authenticated: "{{ user.is_authenticated }}" === "True",
                is_superuser: "{{ user.is_superuser }}" === "True",
            },
            {% if producers %}
                producers: JSON.parse("{{ producers|escapejs }}"),
            {% endif %}
            {% if default_search_results %}
                default_search_results: JSON.parse("{{ default_search_results|escapejs }}"),
            {% else %}
                default_search_results: undefined,
            {% endif %}
        }
    }

</script>

{% block extra_body %}
{% endblock %}


</body>
</html>
